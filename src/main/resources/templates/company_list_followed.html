<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Danh sách công ty</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">

</head>
<body class="bg-gray-100">
<div>
    <nav class="bg-white shadow-sm p-4">
        <div class="container mx-auto flex justify-between items-center">
            <!-- Logo / Trang chủ -->
            <a class="text-xl font-bold text-blue-600" href="/home">Trang chủ</a>

            <!-- Nút Toggle cho mobile -->
            <button class="lg:hidden text-gray-600 focus:outline-none" id="menu-toggle">
                <i class="fas fa-bars text-xl"></i>
            </button>

            <!-- Menu chính -->
            <div class="hidden lg:flex space-x-6 items-center" id="navbar-menu">
                <a class="text-gray-700 hover:text-blue-500" href="/post/list">Danh sách bài đăng</a>
                <th:block sec:authorize="hasRole('applicant')">
                    <a class="text-gray-700 hover:text-blue-500" href="/cv/list-post-applied">Danh sách công việc đã apply</a>
                    <a class="text-gray-700 hover:text-blue-500" href="/post/postFollowed">Followed Post</a>
                    <a class="text-gray-700 hover:text-blue-500" href="/post/companyFollowed">Followed Company</a>

                </th:block>
                <th:block sec:authorize="hasRole('recruiter')">
                    <a href="/post/showFormForAdd" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">Đăng bài</a>
                    <a href="/cv/list" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">Duyệt CV</a>
                </th:block>

                <!-- Hiển thị nếu chưa đăng nhập -->
                <th:block th:if="${#authorization.expression('isAnonymous()')}">
                    <a class="px-4 py-2 border border-blue-500 text-blue-500 rounded hover:bg-blue-500 hover:text-white transition" href="/user/login">Đăng nhập</a>
                    <a class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition" href="/user/form-register">Đăng ký</a>
                </th:block>

                <!-- Hiển thị nếu đã đăng nhập -->
                <th:block th:if="${#authorization.expression('isAuthenticated()')}">
                    <a class="text-gray-700 hover:text-blue-500" href="/user/profile">Hồ sơ</a>
                    <form th:action="@{/logout}" method="post">
                        <button class="text-red-500 hover:text-red-600" type="submit">Đăng xuất</button>
                    </form>
                </th:block>
            </div>
        </div>
    </nav>
</div>
<div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white py-8">
    <div class="container mx-auto text-center">
        <div class="text-sm">
            <a href="#" class="text-white">TRANG CHỦ</a> &gt; <span>DANH SÁCH</span>
        </div>
        <h1 class="text-4xl font-bold mt-2">Danh sách công ty đã follow</h1>
    </div>
</div>



<div th:each="company : ${companyList}" >

    <!-- Thông tin công ty -->
    <div class="flex items-center space-x-4 p-4 bg-white rounded-lg shadow">
        <!-- Logo -->
        <a th:href="@{/post/postOfCompany(companyId=${company.id})}" class="flex-shrink-0">
            <img th:src="${'/image/' + company.logo}" class="w-24 h-24 rounded-full object-cover border border-gray-300" alt="Company Logo">
        </a>

        <!-- Company Info -->
        <div>
            <h3 class="text-xl font-bold text-gray-800">
                <a th:href="@{/post/postOfCompany(companyId=${company.id})}" th:text="${company.name}"></a>
            </h3>
            <div class="text-gray-600 mt-1" th:text="${company.address}"></div>
        </div>
    </div>


    <!----------------------------------------------------->



</div>
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li class="page-item" th:classappend="${currentPage == 1 } ? 'disabled' ">
            <a class="page-link" th:href="@{/post/companyFollowed(page=${currentPage -1})}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        <li th:each="i : ${#numbers.sequence(1, totalPage)} " class="page-item"><a class="page-link" th:classappend="${currentPage == i} ?  'active' " th:href="@{/post/companyFollowed(page=${i})}" th:text="${i}"></a></li>

        <li class="page-item" th:classappend="${currentPage == totalPage} ? 'disabled'">
            <a class="page-link" th:href="@{/post/companyFollowed(page=${currentPage +1})}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>

</body>
</html>